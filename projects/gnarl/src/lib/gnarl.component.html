<div class="gnarl-inner-container">
    <svg #gnarl [attr.height]="width" [attr.width]="width">
        <g [attr.transform]="transform()">
            <circle
                #rail
                class="gnarl"
                #gnarl
                [attr.r]="gnarlRadius"
                [attr.stroke-width]="gnarlStrokeWidth"
                [attr.stroke]="gnarlColor"
                fill="transparent"
                [attr.opacity]="opacity"/>
            <g>
                <circle
                    #control
                    [attr.r]="(gnarlRadius * 8.5) / 10"
                    fill="transparent"/>

                <g class="controls" [attr.transform]="minusPos()" (click)="onMinus()">
                    <ng-content select=".down" *ngIf="buttonPos !== 'N'"></ng-content>
                </g>

                <g class="controls" [attr.transform]="plusPos()" (click)="onPlus()">
                    <ng-content select=".up" *ngIf="buttonPos !== 'N'"></ng-content>
                </g>
            </g>
            <g
                #knob
                class="knob"
                fill=""
                [attr.transform]="getTranslate(knobPoint.clientX, knobPoint.clientY)">
                <circle
                    [attr.r]="(knobRadius - knobStrokeWidth) / 2"
                    [attr.stroke-width]="knobStrokeWidth"
                    [attr.fill]="knobColor"
                    [attr.stroke]=""
                />
                <ng-content select=".knob"></ng-content>
            </g>
        </g>
    </svg>

    <ls-gnarl-input class="gnarl-editor"
        [editable]="editableInput"
        [(inputValue)]="currentValue"
        (inputValueEnter)="onValueEnter($event)"
        [validInputs]="validInputValues"
        (invalidValueEnterd)="onInvalidValueEnter()">
    </ls-gnarl-input>
</div>
